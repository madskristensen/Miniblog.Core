<?xml version="1.0" encoding="utf-8"?>
<post>
  <title>Copy Database Error in Microsoft SQL Server 2008</title>
  <slug>copy-database-error-in-microsoft-sql-server-2008</slug>
  <pubDate>2012-03-09T00:00:00.000Z</pubDate>
  <lastModified>2019-01-12T23:58:44.122Z</lastModified>
  <excerpt />
  <content>&lt;p&gt;Recently I needed to create a copy of a development database. We are porting the application from ASP.NET Web Forms to ASP.NET MVC3 and EF but obviously the existing application needed to stay online.&lt;/p&gt;  &lt;p&gt;So I launched the copy database wizard in &lt;strong&gt;SQL Management Studio&lt;/strong&gt; and completed the wizard steps as normal, only to be met with the following error:&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.bacardibryant.com/Posts/files/Failure_636829343224555528.jpg"&gt;&lt;img title="Failure" style="border: 0px currentcolor; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" border="0" alt="Failure" src="http://www.bacardibryant.com/Posts/files/Failure_thumb_636829343226587112.jpg" width="552" height="426" /&gt;&lt;/a&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;The SQL Agent job had failed.&lt;/p&gt;  &lt;p&gt;So I launched the &lt;strong&gt;SQL Server Configuration Manager&lt;/strong&gt; and found the following settings:&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.bacardibryant.com/Posts/files/ConfigManager_636829343229409267.jpg"&gt;&lt;img title="ConfigManager" style="border: 0px currentcolor; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" border="0" alt="ConfigManager" src="http://www.bacardibryant.com/Posts/files/ConfigManager_thumb_636829343231399948.jpg" width="567" height="357" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;I’ve highlighted the culprit. Because the &lt;strong&gt;SQL Server Agent&lt;/strong&gt; requires file system access, it needs to run under an account which has read and write access to the file system.&lt;/p&gt;  &lt;p&gt;So to fix the problem, I simply changed the “&lt;strong&gt;Log On As&lt;/strong&gt;” account for the &lt;strong&gt;SQL Server Agent&lt;/strong&gt; to an account such as Local System:&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.bacardibryant.com/Posts/files/LocalSystem_636829343233472962.jpg"&gt;&lt;img title="LocalSystem" style="border: 0px currentcolor; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" border="0" alt="LocalSystem" src="http://www.bacardibryant.com/Posts/files/LocalSystem_thumb_636829343235591745.jpg" width="486" height="535" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Upon applying this change, the service will be required to restart for the changes to take affect and voila:&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.bacardibryant.com/Posts/files/Success_636829343238062582.jpg"&gt;&lt;img title="Success" style="border: 0px currentcolor; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" border="0" alt="Success" src="http://www.bacardibryant.com/Posts/files/Success_thumb_636829343239923987.jpg" width="505" height="383" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Success!&lt;/p&gt;  &lt;p&gt;Just thought I’d share a minor hiccup that occurred during a regular day of coding.&lt;/p&gt;  &lt;p&gt;Cheers!&lt;/p&gt;</content>
  <ispublished>true</ispublished>
  <categories>
    <category>database</category>
    <category>sql server</category>
  </categories>
  <comments></comments>
</post>