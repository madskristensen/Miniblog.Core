<?xml version="1.0" encoding="utf-8"?>
<post>
  <title>error in commented code</title>
  <slug>error-in-commented-code</slug>
  <pubDate>2014-02-10T22:08:00.000Z</pubDate>
  <lastModified>2019-02-03T22:11:44.304Z</lastModified>
  <excerpt />
  <content>&lt;h2&gt;&lt;font face="Calibri"&gt;can commented code throw an error?&lt;/font&gt;&lt;/h2&gt;  &lt;p&gt;&lt;font face="Calibri"&gt;in the case of bundling and minification...yes it can. i was performing cross-browser tests on one of my applications the other day and found myself chasing a javascript error that well...wasn't &lt;em&gt;really&lt;/em&gt; an error. for some reason the browser kept complaining about a syntax error.&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;&lt;font face="Calibri"&gt;&lt;/font&gt;&lt;/p&gt;  &lt;h2&gt;&lt;font face="Calibri"&gt;a picture is worth a thousand words&lt;/font&gt;&lt;/h2&gt;  &lt;p&gt;&lt;img src="https://pvplzg.blu.livefilestore.com/y4mGYmYHJOsjpZGG7X4zlrgyca3REEs35uxYV1niQu756phaPifr4plqJ86WQbt_g8F5kBu-T4-OvfDRtWsEN-TrcHdGzOAPn3uXbA6kRTGUqX-P4h2ex2mkLNj76-9vd4Tmcp0R25jw6OCsbD6zkimgVEG-kHSZmy4bb9krx4fGvmHZNQUsseH4xb5rwiEr-Qe0z1fBjVvNlL_UypdqKtX6w?width=760&amp;amp;height=612&amp;amp;cropmode=none" /&gt;&lt;/p&gt;  &lt;p&gt;&lt;font face="Calibri"&gt;upon first opening the script debugger, I went through each line ensuring that things were properly terminated and all blocks properly closed. it wasn't until after about ten minutes of scouring through the lines of several bundled files that i noticed that there was &lt;strong&gt;a problem on line 583&lt;/strong&gt;. line 583 in the script debugger depicts the merge point of two of these script files. more specifically, the end of one of my utility files and the beginning of the jquery-cookie plugin. you see, &lt;strong&gt;the problem was that the end of my file contained single line comments, once used as a reference, that i hadn't bothered to remove,&lt;/strong&gt; and the jquery-cookie plugin contained a boilerplate heading which is a common way of providing descriptions, licenses, and other disclosures in code modules. i am guessing that because the comment styles were different, the bundling engine didn't reconize the break, nor does it automatically inject a line break between merged files, the two script files ran together. this caused the debugger to look for a closing brace in order to complete a code block &lt;strong&gt;&amp;quot;}&amp;quot;&lt;/strong&gt;.&lt;/font&gt;&lt;/p&gt;  &lt;h2&gt;hmm, technically...there was a syntax error&lt;/h2&gt;  &lt;p&gt;you know on second thought, given that i was using single-line comments &lt;strong&gt;across multiple lines of code&lt;/strong&gt;, which is a semantic no-no, the debugger was correct in that it was a syntax error...at least technically speaking. after all, we do have a syntax at our disposal for multi-line comments i.e. /* my comments */. okay okay...so let's fix this by wrapping the single-line commented code in multi-line comment marks.&lt;/p&gt;  &lt;p&gt;&lt;code&gt;/***********************************************&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;//url.protocol; (http:)&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;//url.hostname; (&lt;a href="http://www.example.com"&gt;www.example.com&lt;/a&gt;)&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;//url.pathname; (/some/path)&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;//url.search; (?name=value)&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;//url.hash; (#anchor)&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;//var url = document.createElement('a');&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;//url.href = document.URL;&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;//var controller = url.pathname;&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;//var idx = controller.lastIndexOf(&amp;quot;/&amp;quot;);&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;//if (idx &amp;gt; 0) {&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;// controller = controller.substring(0, idx);&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;//}&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;&lt;code&gt;************************************************/&lt;/code&gt;&lt;/p&gt;  &lt;p&gt;yes, i left the commented code in the file...and no i didn't remove the single-line comment marks. why? because i wanted to. and all is good with the debugger.&lt;/p&gt;</content>
  <ispublished>true</ispublished>
  <categories>
    <category>programming</category>
    <category>javascript</category>
  </categories>
  <comments></comments>
</post>